(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(64)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),l=a.n(r),c=a(8),i=a(9),u=a(11),s=a(10),m=a(12),d=a(14),h=a.n(d),v={searchBooks:function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getBooks:function(){return h.a.get("/api/books")},getBook:function(e){return h.a.get("/api/books/"+e)},deleteBook:function(e){return h.a.delete("/api/books/"+e)},saveBook:function(e){return h.a.post("/api/books",e)}};a(54),a(55);var f=function(e){var t=e.type,a=void 0===t?"default":t,n=e.className,r=e.children,l=e.onClick,c=e.id;return o.a.createElement("button",{onClick:l,id:c,className:["btn btn-lg","btn-".concat(a),n].join(" ")},r)};var b=function(e){return e.books.map(function(t){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("img",{src:t.image,alt:"bookImg"})),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("h3",null,t.title),o.a.createElement("p",null,t.authors),o.a.createElement("p",null,t.description),o.a.createElement(f,{key:t.id,id:t.id,onClick:function(t){return e.handleSavedButton(t)}},"Save"),o.a.createElement(f,null,o.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},"View"))))))})};a(56);var k=function(e){return o.a.createElement("div",{className:"hero text-center",style:{backgroundImage:"url(".concat(e.backgroundImage,")")}},e.children)};a(57);function E(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",value:e.search,onChange:e.handleInputChange}))}function p(e){return o.a.createElement("button",{className:"btn btn-success",onClick:e.handleFormSubmit},e.children)}var g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={search:"",books:[]},a.handleInputChange=function(e){a.setState({search:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),v.searchBooks(String(a.state.search)).then(function(e){if("error"===e.data.status)throw new Error(e.data.message);var t=e.data.items;t=t.map(function(e){return e={key:e.key,id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink},console.log("result: "+JSON.stringify(e)),e}),a.setState({books:t})}).catch(function(e){return a.setState({error:e.message})})},a.handleSavedButton=function(e){e.preventDefault();var t=a.state.books.filter(function(t){return t.id===e.target.id});t=t[0],v.saveBook(t).then(function(e){console.log("Book added: "+e),alert("added")})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k,{backgroundImage:"./book.jpeg"},o.a.createElement("h1",null,"Google Book Search"),o.a.createElement("h2",null,"Search for and Save Books for Interest")),o.a.createElement("form",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8"},o.a.createElement(E,{name:"book",placeholder:"Search",handleInputChange:this.handleInputChange})),o.a.createElement("div",{className:"col-md-2"},o.a.createElement(p,{handleFormSubmit:this.handleFormSubmit},"Search"))),o.a.createElement(b,{books:this.state.books,handleSavedButton:this.handleSavedButton}))))}}]),t}(n.Component);var N=function(e){return e.bookData.map(function(t){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("img",{src:t.image,alt:"bookImg"})),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("h3",null,t.title),o.a.createElement("p",null,t.authors),o.a.createElement("p",null,t.description),o.a.createElement(f,{key:t.id,id:t._id,onClick:function(a){return e.handleDeleteButton(t._id)}},"Delete"),o.a.createElement(f,null,o.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},"View"))))))})},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={bookData:[]},a.handleDeleteButton=function(e){v.deleteBook(e).then(function(e){return a.componentDidMount()}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.getBooks().then(function(t){return e.setState({bookData:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k,{backgroundImage:"./book.jpeg"},o.a.createElement("h1",null,"Google Book Search"),o.a.createElement("h2",null,"Search for and Save Books for Interest")),o.a.createElement(N,{bookData:this.state.bookData,handleDeleteButton:this.handleDeleteButton}))}}]),t}(n.Component),B=a(13),w=a(6);a(58);var y=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg"},o.a.createElement(B.b,{className:"navbar-brand",to:"/"},"GOOGLE BOOKS"),o.a.createElement("div",null,o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(B.b,{to:"/",className:"/"===window.location.pathname?"nav-link active":"nav-link"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(B.b,{to:"/saved",className:"/Saved"===window.location.pathname?"nav-link active":"nav-link"},"Saved")))))},O=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(B.a,null,o.a.createElement("div",null,o.a.createElement(y,null),o.a.createElement(w.c,null,o.a.createElement(w.a,{exact:!0,path:"/",component:g}),o.a.createElement(w.a,{exact:!0,path:"/saved",component:S}))))}}]),t}(n.Component);l.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.8d1f7f6f.chunk.js.map